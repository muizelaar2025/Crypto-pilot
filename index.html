<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Crypto Monitor & Simulator</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    nav { margin-bottom: 10px; }
    nav button { margin-right: 5px; }
    section { display: none; margin-top: 20px; }
    section.active { display: block; }
    #output { margin-top: 20px; max-height: 200px; overflow-y: auto; background: #f9f9f9; border: 1px solid #ccc; padding: 10px; }
    .pill { background:#eee; border-radius:10px; padding:2px 6px; margin-right:5px; }
    .advice-hold { color: green; }
    .advice-sell { color: red; }
    table { border-collapse: collapse; width: 100%; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 6px; text-align: left; font-size: 14px; }
    canvas { max-width: 100%; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>Crypto Monitor & Simulator</h1>

  <!-- Navigatie -->
  <nav>
    <button onclick="showTab('top10')">Top 10</button>
    <button onclick="showTab('holdings')">Holdings</button>
    <button onclick="showTab('charts')">Grafieken</button>
    <button onclick="showTab('advice')">Advieslog</button>
    <button onclick="showTab('simulation')">Simulatie</button>
  </nav>

  <!-- Tabblad Top 10 -->
  <section id="top10" class="active">
    <h2>Top 10 selectie</h2>
    <label>Valuta:
      <select id="vsCurrency">
        <option value="eur">EUR</option>
        <option value="usd">USD</option>
      </select>
    </label>
    <button id="refreshSelection">Refresh selectie</button>
    <br><br>
    <label>Interval (ms): <input type="number" id="interval" value="60000"></label>
    <button id="startMonitor">Start monitor</button>
    <button id="stopMonitor">Stop monitor</button>
    <div id="top10-list"></div>
  </section>

  <!-- Tabblad Holdings -->
  <section id="holdings">
    <h2>Mijn holdings</h2>
    <label>Coin: <input type="text" id="hold-coin" placeholder="bijv. bitcoin"></label>
    <label>Qty: <input type="number" id="hold-qty" step="any"></label>
    <label>Koopprijs: <input type="number" id="hold-price" step="any"></label>
    <button id="addHolding">Toevoegen</button>

    <table id="holdings-table">
      <thead>
        <tr>
          <th>Coin</th><th>Qty</th><th>Koopprijs</th><th>Huidige prijs</th><th>Netto resultaat</th><th>Advies</th><th>Actie</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <!-- Tabblad Grafieken -->
  <section id="charts">
    <h2>Grafiek</h2>
    <label>Coin:
      <select id="chart-coin"></select>
    </label>
    <label>Dagen:
      <select id="chart-range">
        <option value="7">7</option>
        <option value="30">30</option>
        <option value="90">90</option>
        <option value="180">180</option>
        <option value="365">365</option>
      </select>
    </label>
    <button id="loadChart">Laad grafiek</button>
    <button id="autoChart">Laad uit Top10</button>
    <canvas id="coinChart" width="600" height="300"></canvas>
  </section>

  <!-- Tabblad Advieslog -->
  <section id="advice">
    <h2>Advieslog</h2>
    <p>Succespercentage: <span id="successRate">-</span></p>
    <table id="adviceTable">
      <thead>
        <tr>
          <th>Tijd</th><th>Coin</th><th>Advies</th><th>Startprijs</th><th>Huidige prijs</th><th>Resultaat</th><th>Actie</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <!-- Tabblad Simulatie -->
  <section id="simulation">
    <h2>Simulatie (start €1500, maandelijkse bijstorting €150)</h2>
    <div id="sim-overviews"></div>
    <button id="sim-start">Start simulatie (30 dagen)</button>
    <button id="sim-stop">Stop simulatie</button>
    <button id="sim-reset">Reset simulatie</button>

    <h3>Sim1 — Vrije strategie</h3>
    <table id="sim1-table">
      <thead>
        <tr><th>Dag</th><th>Actie</th><th>Coin</th><th>Qty</th><th>Prijs</th><th>Profit%</th><th>Cash</th><th>Portefeuille</th></tr>
      </thead>
      <tbody></tbody>
    </table>

    <h3>Sim2 — Verwachte Top10 movers</h3>
    <table id="sim2-table">
      <thead>
        <tr><th>Dag</th><th>Actie</th><th>Coin</th><th>Qty</th><th>Prijs</th><th>Profit%</th><th>Cash</th><th>Portefeuille</th></tr>
      </thead>
      <tbody></tbody>
    </table>

    <h3>Sim3 — Top10 aankopen</h3>
    <table id="sim3-table">
      <thead>
        <tr><th>Dag</th><th>Actie</th><th>Coin</th><th>Qty</th><th>Prijs</th><th>Profit%</th><th>Cash</th><th>Portefeuille</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <!-- Log output -->
  <div id="output"></div>

  <script>
    function showTab(id){
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }
  </script>
  <script src="app.js" defer></script>
</body>
</html>
